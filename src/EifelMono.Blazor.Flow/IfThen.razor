@if (IsParentOk)
{
    @if (Parent.Value)
    {
        @ChildContent
    }
}
else
{
    <FlowError>@ErrorMessage</FlowError>
}

@code {
    [CascadingParameter]
    private IfThenElse Parent { get; set; }

    private bool IsParentOk => Parent is IfThenElse;
    protected string ErrorMessage => $"{this.GetType().Name} must exist within {nameof(IfThenElse)}";

    [Parameter]
    public RenderFragment ChildContent { get; set; }


    protected override void OnInitialized()
    {
        if (!IsParentOk && FlowError.s_throwOnException)
            throw new ArgumentException(nameof(Parent), ErrorMessage);
        base.OnInitialized();
    }


}
